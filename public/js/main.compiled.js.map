{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;;AACA,MAAM,OAAO,YAAY;AACxB,KAAI,QAAQ,EAAR,CADoB;AAExB,UAAS,SAAT,GAAqB;AACpB,QAAM,GAAN,GAAY,EAAE,KAAF,CAAZ,CADoB;AAEpB,QAAM,QAAN,GAAiB,MAAM,GAAN,CAAU,IAAV,CAAe,WAAf,CAAjB,CAFoB;AAGpB,QAAM,MAAN,GAAe,MAAM,GAAN,CAAU,IAAV,CAAe,aAAf,CAAf,CAHoB;AAIpB,QAAM,MAAN,GAAe,MAAM,GAAN,CAAU,IAAV,CAAe,WAAf,CAAf,CAJoB;EAArB;;AAOA,UAAS,WAAT,GAAwB,EAAxB;AAGA,UAAS,IAAT,GAAiB;AAChB,cADgB;AAEhB,gBAFgB;EAAjB;;AAKA,UAAS,cAAT,CAA0B,QAA1B,EAAqC;AACpC,QAAM,QAAN,CAAe,IAAf,CAAoB,QAApB,EADoC;EAArC;;AAIA,QAAO;AACN,gBADM;AAEN,MAFM;EAAP,CArBwB;CAAX,EAAR;;AA4BN,MAAM,WAAW,YAAY;AAC3B,KAAI,cAAc,IAAI,OAAJ,CAAa,CAAC,OAAD,EAAU,MAAV,KAAqB;AAClD,MAAG,CAAC,UAAU,YAAV,EAAwB,OAAO,gEAAP,EAA5B;AACA,YAAU,WAAV,CAAsB,kBAAtB,CAA0C,OAAS;AACjD,WAAQ,IAAI,MAAJ,CAAW,QAAX,EAAqB,IAAI,MAAJ,CAAW,SAAX,CAA7B,CADiD;GAAT,EAExC,SAAW;AACX,UAAO,KAAP,EADW;GAAX,CAFF,CAFkD;EAArB,CAA3B,CADuB;AAS3B,QAAO;AACL,aADK;EAAP,CAT2B;CAAX,EAAZ;;AAcN,MAAM,iBAAiB,YAAa;AACnC,KAAI,QAAQ,EAAR,CAD+B;;AAGnC,UAAS,SAAT,GAAsB;AACrB,QAAM,SAAN,GAAkB,EAAE,iBAAF,CAAlB,CADqB;AAErB,QAAM,gBAAN,GAAyB,MAAM,SAAN,CAAgB,IAAhB,CAAqB,cAArB,CAAzB;;;AAFqB,OAKrB,CAAM,MAAN,GAAe,SAAS,aAAT,CAAuB,qBAAvB,CAAf,CALqB;AAMrB,QAAM,eAAN,GAAwB,MAAM,SAAN,CAAgB,IAAhB,CAAqB,iBAArB,CAAxB,CANqB;AAOrB,QAAM,QAAN,GAAiB,EAAE,0BAAF,CAAjB,CAPqB;EAAtB;AASA,UAAS,WAAT,GAAwB;;EAAxB;AAGA,UAAS,IAAT,GAAiB;AAChB,cADgB;AAEhB,gBAFgB;EAAjB;AAIA,UAAS,SAAT,CAAoB,IAApB,EAA0B;AACzB,cAAY,IAAZ;;AADyB,EAA1B;;AAKA,UAAS,WAAT,CAAsB,IAAtB,EAA4B;;AAE3B,OAAK,IAAL,GAAY,KAAK,IAAL,CAAU,KAAV,CAAgB,CAAhB,EAAkB,CAAlB,CAAZ,CAF2B;;AAI3B,MAAI,WAAW,MAAM,QAAN,CAAe,IAAf,EAAX,CAJuB;AAK3B,UAAQ,GAAR,CAAY,QAAZ,EAL2B;AAM3B,MAAI,MAAM,SAAS,MAAT,CAAgB,QAAhB,EAA0B,IAA1B,CAAN;;AANuB,OAQ3B,CAAM,eAAN,CAAsB,MAAtB,CAA6B,GAA7B,EAR2B;EAA5B;;AAxBmC,UAoC1B,UAAT,CAAqB,IAArB,EAA2B;AAC1B,MAAG,OAAO,IAAP,KAAgB,QAAhB,EAA0B;AAC5B,WAAQ,KAAR,CAAc,+BAAd,EAD4B;AAE5B,UAAO,KAAP,CAF4B;GAA7B;AAIA,UAAQ,GAAR,CAAY,MAAM,MAAN,CAAZ,CAL0B;AAM1B,MAAI,MAAM,MAAM,MAAN,CAAa,UAAb,CAAwB,IAAxB,CAAN,CANsB;AAO1B,QAAM,MAAN,CAAa,MAAb,GAAsB,GAAtB,CAP0B;AAQ1B,QAAM,MAAN,CAAa,KAAb,GAAqB,GAArB,CAR0B;AAS1B,MAAI,IAAJ,GAAW,YAAX,CAT0B;AAU1B,MAAI,QAAJ,CAAa,IAAb,EAAkB,GAAlB,EAAsB,EAAtB,EAV0B;EAA3B;;AAaA,QAAO;AACN,WADM;AAEN,aAFM;AAGN,MAHM;AAIN,YAJM;EAAP,CAjDmC;CAAZ,EAAlB;;AA0DN,MAAM,gBAAgB,YAAa;AAClC,KAAI,QAAQ,EAAR,CAD8B;;AAG/B,UAAS,QAAT,GAAqB;AACvB,QAAM,SAAN,GAAkB,EAAE,cAAF,CAAlB,CADuB;AAEvB,QAAM,QAAN,GAAiB,EAAE,wBAAF,CAAjB,CAFuB;EAArB;AAIH,UAAS,MAAT,CAAiB,IAAjB,EAAuB;AACtB,MAAI,WAAW,MAAM,QAAN,CAAe,IAAf,EAAX,CADkB;AAEtB,MAAI,MAAM,SAAS,MAAT,CAAgB,QAAhB,EAA0B,IAA1B,CAAN,CAFkB;AAGtB,QAAM,SAAN,CAAgB,MAAhB,CAAuB,GAAvB,EAHsB;EAAvB;AAKA,UAAS,IAAT,GAAiB;AAChB,aADgB;EAAjB;;AAIA,QAAO;AACN,MADM;AAEN,QAFM;EAAP,CAhBkC;CAAZ,EAAjB;;AAuBN,EAAE,QAAF,EAAY,KAAZ,CAAkB,YAAW;AAC5B,MAAK,IAAL,GAD4B;AAE5B,gBAAe,IAAf,GAF4B;AAG5B,eAAc,IAAd,GAH4B;;AAKzB,UAAS,WAAT,GAAuB,IAAvB,CAA4B,CAAC,GAAD,EAAM,IAAN,KAAe;AAC7C,IAAE,IAAF,CAAO;AACN,QAAK,uEAAuE,GAAvE,GAA6E,GAA7E,GAAmF,IAAnF;AACL,UAAO,UAAP;AACA,aAAU,OAAV;AACA,YAAS,UAAS,IAAT,EAAe;AACvB,YAAQ,GAAR,CAAY,IAAZ,EADuB;AAEvB,SAAK,cAAL,CAAoB,KAAK,SAAL,GAAgB,GAAhB,GAAqB,KAAK,QAAL,CAAzC,CAFuB;AAGvB,mBAAe,WAAf,CAA2B,KAAK,MAAL,CAA3B,CAHuB;AAIvB,mBAAe,UAAf,CAA0B,KAAK,SAAL,CAAe,WAAf,CAA1B,CAJuB;AAKvB,kBAAc,MAAd,CAAqB,KAAK,KAAL,CAArB,CALuB;IAAf;;GAJV,EAD6C;EAAf,EAczB,OAAS;AACV,QAAM,wBAAN,EADU;EAAT,CAdH;;AALyB,CAAX,CAAlB","file":"main.compiled.js","sourcesContent":["'use strict';\r\nconst menu = (function() {\r\n\tlet elems = {};\r\n\tfunction _cacheDom() {\r\n\t\telems.nav = $('nav');\r\n\t\telems.location = elems.nav.find('#location');\r\n\t\telems.signIn = elems.nav.find('#btn-signin');\r\n\t\telems.signUp = elems.nav.find('#btn-join');\r\n\t}\r\n\r\n\tfunction _bindEvents () {\r\n\r\n    }\r\n\tfunction init () {\r\n\t\t_cacheDom();\r\n\t\t_bindEvents();\r\n\t}\r\n\r\n\tfunction renderLocation ( location ) {\r\n\t\telems.location.html(location);\r\n\t}\r\n\r\n\treturn {\r\n\t\trenderLocation,\r\n\t\tinit\r\n\t}\r\n\r\n})();\r\n\r\nconst metaInfo = (function() {\r\n  let getLocation = new Promise( (resolve, reject) => {\r\n    if(!navigator.getloocation) reject(\"Location is not available, try entering your zip code manually\");\r\n    navigator.getLocation.getCurrentPosition( (pos) => {\r\n      resolve(pos.coords.latitude, pos.coords.longitude);\r\n    },(error) => {\r\n      reject(error);\r\n    }); \r\n  });\r\n  return {\r\n    getLocation,\r\n  }\r\n})();\r\n\r\nconst currentWeather = (function () {\r\n\tlet elems = {};\r\n\r\n\tfunction _cacheDom () {\r\n\t\telems.container = $('section.current');\r\n\t\telems.currentContainer = elems.container.find('.current-now');\r\n\t\t//we can't store the canvas in a jquery object because it does not have\r\n\t\t// the getContext element in the canvas node\r\n\t\telems.canvas = document.querySelector('canvas#current-temp');\r\n\t\telems.hourlyContainer = elems.container.find('.current-hourly');\r\n\t\telems.template = $('#template-weather-hourly');\r\n\t}\r\n\tfunction _bindEvents () {\r\n\t\t//bind\r\n\t}\r\n\tfunction init () {\r\n\t\t_cacheDom();\r\n\t\t_bindEvents();\r\n\t}\r\n\tfunction renderAll (data) {\r\n\t\trenderHours(data);\r\n\t\t//render the rest of the future \r\n\t}\r\n\r\n\tfunction renderHours (data) {\r\n\t\t//get only the first few days\r\n\t\tdata.data = data.data.slice(0,4);\r\n\r\n\t\tlet template = elems.template.html();\r\n\t\tconsole.log(template)\r\n\t\tlet out = Mustache.render(template, data);\r\n\t\t//append the rendered html from mustache\r\n\t\telems.hourlyContainer.append(out);\r\n\r\n\t}\r\n\t//canvas\r\n\tfunction renderTemp (temp) {\r\n\t\tif(typeof temp === 'object') {\r\n\t\t\tconsole.error('Canvas temp must be a integer');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconsole.log(elems.canvas);\r\n\t\tlet ctx = elems.canvas.getContext('2d');\r\n\t\telems.canvas.height = 200;\r\n\t\telems.canvas.width = 400;\r\n\t\tctx.font = \"20px Arial\";\r\n\t\tctx.fillText(temp,100,30);\r\n\t}\r\n\r\n\treturn {\r\n\t\trenderAll,\r\n\t\trenderHours,\r\n\t\tinit,\r\n\t\trenderTemp\r\n\t}\r\n\r\n})();\r\n\r\nconst futureWeather = (function () {\r\n\tlet elems = {};\r\n\t\r\n    function cacheDom () {\r\n\t\telems.container = $('.future-days');\r\n\t\telems.template = $('#template-weather-days');\r\n\t}\r\n\tfunction render (data) {\r\n\t\tlet template = elems.template.html();\r\n\t\tlet out = Mustache.render(template, data);\r\n\t\telems.container.append(out);\r\n\t}\r\n\tfunction init () {\r\n\t\tcacheDom();\r\n\t}\r\n\r\n\treturn {\r\n\t\tinit,\r\n\t\trender\r\n\t}\r\n})();\r\n\r\n\r\n$(document).ready(function() {\r\n\tmenu.init();\r\n\tcurrentWeather.init();\r\n\tfutureWeather.init();\r\n    \r\n    metaInfo.getLocation().then((lat, long) => {\r\n\t\t$.ajax({\r\n\t\t\turl: 'https://api.forecast.io/forecast/311b8f1ba7fb57a38aaf771086360d88/' + lat + ',' + long,\r\n\t\t\tjsonp: 'callback',\r\n\t\t\tdataType: 'jsonp',\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tmenu.renderLocation(data.longitude +','+ data.latitude);\r\n\t\t\t\tcurrentWeather.renderHours(data.hourly);\r\n\t\t\t\tcurrentWeather.renderTemp(data.currently.temperature);\r\n\t\t\t\tfutureWeather.render(data.daily);\r\n\t\t\t}\r\n\r\n\t\t});\r\n    }, (err) => {\r\n      alert('couldn\\'t get locaiton')\r\n    });\r\n\t// navigator.geolocation.getCurrentPosition(function(pos) {\r\n});"]}